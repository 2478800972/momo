<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=5.0, user-scalable=yes">
    <title>é˜…è¯»APPå››ç‰ˆæœ¬ä¸‹è½½ - åŸç‰ˆ + Sigma + MD3 + è½»æ‚¦æ—¶å…‰</title>
    <style>
        /* åŸºç¡€é‡ç½® */
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            -webkit-tap-highlight-color: transparent;
            -webkit-text-size-adjust: 100%;
            -ms-text-size-adjust: 100%;
        }

        /* å…³é”®ä¿®å¤ï¼šç¡®ä¿å¯æ»šåŠ¨ */
        html {
            height: 100%;
            overflow: auto;
            -webkit-overflow-scrolling: touch;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Noto Sans SC', 'PingFang SC', 'Microsoft YaHei', sans-serif;
            background: linear-gradient(135deg, #f5f7fa 0%, #c3cfe2 100%);
            color: #333;
            line-height: 1.5;
            min-height: 100%;
            padding: 12px;
            overflow-x: hidden;
            position: relative;
        }

        /* è§£å†³iOS Safariçš„æ»šåŠ¨é—®é¢˜ */
        @supports (-webkit-overflow-scrolling: touch) {
            body {
                overflow-y: scroll;
                -webkit-overflow-scrolling: touch;
            }
        }

        /* å®¹å™¨ */
        .container {
            max-width: 1400px;
            margin: 0 auto;
            position: relative;
        }

        /* å¤´éƒ¨ */
        .header {
            text-align: center;
            margin-bottom: 20px;
            padding: 20px 16px;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            border-radius: 20px;
            color: white;
            box-shadow: 0 10px 25px rgba(0, 0, 0, 0.15);
            position: relative;
            overflow: hidden;
        }

        .header::after {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: radial-gradient(circle at 30% 20%, rgba(255, 255, 255, 0.1) 0%, transparent 50%);
            pointer-events: none;
        }

        .header h1 {
            font-size: 22px;
            margin-bottom: 8px;
            font-weight: 700;
            position: relative;
            z-index: 1;
            line-height: 1.2;
        }

        .header p {
            font-size: 14px;
            opacity: 0.9;
            margin: 0 auto;
            position: relative;
            z-index: 1;
            max-width: 95%;
        }

        /* ä»“åº“å®¹å™¨ - è‡ªé€‚åº”ç½‘æ ¼å¸ƒå±€ */
        .repo-container {
            display: grid;
            grid-template-columns: repeat(1, 1fr);
            gap: 20px;
            margin-bottom: 30px;
            width: 100%;
        }

        /* ä»“åº“å¡ç‰‡ */
        .repo-card {
            background: #fff;
            border-radius: 16px;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.08);
            overflow: hidden;
            transition: transform 0.2s ease, box-shadow 0.2s ease;
            width: 100%;
            border: 1px solid rgba(0, 0, 0, 0.05);
        }

        .repo-card:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 25px rgba(0, 0, 0, 0.12);
        }

        .repo-header {
            padding: 16px;
            display: flex;
            align-items: center;
            gap: 12px;
            border-bottom: 1px solid #eaeaea;
            background: linear-gradient(135deg, #f8f9fa 0%, #e9ecef 100%);
        }

        .repo-icon {
            width: 42px;
            height: 42px;
            border-radius: 21px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 20px;
            font-weight: bold;
            flex-shrink: 0;
        }

        .original .repo-icon {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
        }

        .sigma .repo-icon {
            background: linear-gradient(135deg, #2196f3 0%, #1976d2 100%);
            color: white;
        }

        .md3 .repo-icon {
            background: linear-gradient(135deg, #ff4081 0%, #f50057 100%);
            color: white;
        }

        .qysg .repo-icon {
            background: linear-gradient(135deg, #4CAF50 0%, #2E7D32 100%);
            color: white;
        }

        .repo-title h2 {
            font-size: 18px;
            font-weight: 600;
            margin-bottom: 4px;
            color: #2c3e50;
        }

        .repo-title p {
            font-size: 12px;
            color: #7f8c8d;
        }

        /* ç‰ˆæœ¬å®¹å™¨ */
        .version-container {
            padding: 16px;
            display: flex;
            flex-direction: column;
            gap: 16px;
        }

        /* ç‰ˆæœ¬å¡ç‰‡ */
        .version-card {
            background: #f8fafc;
            border-radius: 12px;
            padding: 16px;
            border: 1px solid #e2e8f0;
        }

        .version-header {
            display: flex;
            align-items: center;
            justify-content: space-between;
            margin-bottom: 16px;
            padding-bottom: 12px;
            border-bottom: 2px solid;
        }

        .stable .version-header {
            border-color: #2ecc71;
        }

        .beta .version-header {
            border-color: #e74c3c;
        }

        .version-title {
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .version-icon {
            font-size: 20px;
        }

        .version-title h3 {
            font-size: 16px;
            font-weight: 600;
            color: #2c3e50;
        }

        .version-tag {
            font-size: 11px;
            padding: 4px 10px;
            border-radius: 12px;
            font-weight: 600;
            text-transform: uppercase;
        }

        .tag-stable {
            background: #2ecc71;
            color: white;
        }

        .tag-beta {
            background: #e74c3c;
            color: white;
        }

        /* ç‰ˆæœ¬ä¿¡æ¯ */
        .version-info {
            margin-bottom: 16px;
        }

        .info-row {
            display: flex;
            align-items: center;
            gap: 8px;
            margin-bottom: 8px;
            font-size: 14px;
        }

        .info-icon {
            width: 18px;
            text-align: center;
            opacity: 0.7;
        }

        /* ä¸‹è½½æ–‡ä»¶å¡ç‰‡ */
        .file-card {
            background: white;
            border-radius: 10px;
            padding: 16px;
            margin-bottom: 16px;
            border: 1px solid #e2e8f0;
            box-shadow: 0 2px 6px rgba(0, 0, 0, 0.04);
        }

        .file-name {
            font-weight: 600;
            margin-bottom: 12px;
            word-break: break-word;
            font-size: 15px;
            color: #2c3e50;
            line-height: 1.4;
        }

        .file-meta {
            display: flex;
            flex-wrap: wrap;
            gap: 12px;
            margin-bottom: 16px;
        }

        .meta-item {
            display: flex;
            align-items: center;
            gap: 4px;
            font-size: 13px;
            color: #7f8c8d;
        }

        /* æŒ‰é’®æ ·å¼ - ä¼˜åŒ–è§¦æ‘¸åŒºåŸŸ */
        .btn {
            display: inline-flex;
            align-items: center;
            justify-content: center;
            padding: 10px 12px;
            border: none;
            border-radius: 8px;
            font-weight: 500;
            font-size: 13px;
            cursor: pointer;
            transition: all 0.2s ease;
            text-decoration: none;
            text-align: center;
            gap: 4px;
            user-select: none;
            -webkit-user-select: none;
            min-height: 40px; /* ç¡®ä¿è§¦æ‘¸åŒºåŸŸè¶³å¤Ÿå¤§ */
        }

        .btn-primary {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            flex: 1;
        }

        .btn-primary:hover,
        .btn-primary:active {
            background: linear-gradient(135deg, #5a6fd8 0%, #6a3f9e 100%);
            transform: translateY(-1px);
        }

        .btn-secondary {
            background: #f1f5f9;
            color: #475569;
            border: 1px solid #cbd5e1;
        }

        .btn-secondary:hover,
        .btn-secondary:active {
            background: #e2e8f0;
        }

        /* ä¸‹è½½æ“ä½œ */
        .download-actions {
            display: flex;
            gap: 8px;
            margin-top: 12px;
        }

        /* åŠ é€Ÿé“¾æ¥ - ä¸‰åˆ—æ˜¾ç¤º */
        .accelerated-links {
            display: none;
            margin-top: 16px;
            padding-top: 16px;
            border-top: 1px dashed #cbd5e1;
        }

        .accelerated-grid {
            display: grid;
            grid-template-columns: repeat(3, 1fr); /* ä¸‰åˆ—å¸ƒå±€ */
            gap: 6px;
            margin-bottom: 16px;
        }

        /* è‡ªå®šä¹‰ä¸‹è½½ */
        .custom-download {
            background: #f8fafc;
            padding: 12px;
            border-radius: 10px;
            margin-top: 12px;
            border: 1px solid #e2e8f0;
        }

        .custom-input {
            display: flex;
            gap: 8px;
            margin-top: 8px;
        }

        .custom-input input {
            flex: 1;
            padding: 10px 12px;
            border: 1px solid #cbd5e1;
            border-radius: 8px;
            background: white;
            color: #333;
            font-size: 14px;
            min-height: 44px;
        }

        .custom-input input:focus {
            outline: none;
            border-color: #667eea;
            box-shadow: 0 0 0 3px rgba(102, 126, 234, 0.1);
        }

        /* æ›´æ–°è¯´æ˜ */
        .release-notes {
            background: #f1f8ff;
            border-radius: 10px;
            padding: 16px;
            margin-top: 16px;
            border-left: 4px solid #667eea;
        }

        .release-notes h4 {
            font-size: 14px;
            margin-bottom: 12px;
            display: flex;
            align-items: center;
            gap: 6px;
            color: #2c3e50;
        }

        .release-notes-content {
            max-height: 200px;
            overflow-y: auto;
            font-size: 13px;
            line-height: 1.6;
            color: #475569;
        }

        /* åŠ è½½çŠ¶æ€ */
        .loading {
            padding: 40px 20px;
            text-align: center;
            color: #7f8c8d;
        }

        .spinner {
            width: 32px;
            height: 32px;
            border: 3px solid rgba(102, 126, 234, 0.2);
            border-top-color: #667eea;
            border-radius: 50%;
            animation: spin 1s linear infinite;
            margin: 0 auto 12px;
        }

        @keyframes spin {
            to { transform: rotate(360deg); }
        }

        /* é”™è¯¯çŠ¶æ€ */
        .error {
            background: rgba(244, 67, 54, 0.1);
            border: 1px solid rgba(244, 67, 54, 0.2);
            border-radius: 10px;
            padding: 16px;
            margin: 16px 0;
            color: #f44336;
        }

        .error h4 {
            margin-bottom: 8px;
            display: flex;
            align-items: center;
            gap: 8px;
        }

        /* ç©ºçŠ¶æ€ */
        .empty-state {
            text-align: center;
            padding: 40px 20px;
            color: #7f8c8d;
        }

        .empty-icon {
            font-size: 40px;
            margin-bottom: 12px;
            opacity: 0.5;
        }

        /* åº•éƒ¨ */
        .footer {
            text-align: center;
            margin-top: 30px;
            padding-top: 20px;
            border-top: 1px solid #e2e8f0;
            color: #7f8c8d;
            font-size: 12px;
        }

        .footer-links {
            display: flex;
            justify-content: center;
            flex-wrap: wrap;
            gap: 12px;
            margin-top: 12px;
        }

        .footer-link {
            color: #667eea;
            text-decoration: none;
            font-size: 11px;
        }

        .footer-link:hover {
            text-decoration: underline;
        }

        .last-updated {
            margin-top: 8px;
            font-size: 11px;
            opacity: 0.7;
        }

        /* æ ‡ç­¾ */
        .tag {
            display: inline-block;
            padding: 2px 8px;
            border-radius: 4px;
            font-size: 10px;
            font-weight: 600;
            margin-left: 6px;
            vertical-align: middle;
        }

        .tag-coexist {
            background: #ffb300;
            color: white;
        }

        .tag-md3 {
            background: #ff4081;
            color: white;
        }

        .tag-qysg {
            background: #4CAF50;
            color: white;
        }

        /* æ»šåŠ¨æ¡ä¼˜åŒ– */
        ::-webkit-scrollbar {
            width: 6px;
            height: 6px;
        }

        ::-webkit-scrollbar-track {
            background: #f1f1f1;
            border-radius: 3px;
        }

        ::-webkit-scrollbar-thumb {
            background: #c1c1c1;
            border-radius: 3px;
        }

        ::-webkit-scrollbar-thumb:hover {
            background: #a8a8a8;
        }

        /* è¾…åŠ©ç±» */
        .hidden {
            display: none !important;
        }

        .visible {
            display: block !important;
        }

        /* ç§»åŠ¨ç«¯ä¼˜åŒ– */
        @media (max-width: 767px) {
            body {
                padding: 10px;
                overflow-x: hidden;
                overflow-y: auto;
                -webkit-overflow-scrolling: touch;
            }
            
            .header {
                padding: 16px 12px;
                border-radius: 16px;
                margin-bottom: 16px;
            }
            
            .header h1 {
                font-size: 20px;
                margin-bottom: 6px;
            }
            
            .header p {
                font-size: 13px;
                line-height: 1.4;
            }
            
            .repo-container {
                gap: 16px;
            }
            
            .repo-header {
                padding: 14px;
            }
            
            .repo-icon {
                width: 38px;
                height: 38px;
                font-size: 18px;
            }
            
            .repo-title h2 {
                font-size: 17px;
            }
            
            .version-container {
                padding: 14px;
                gap: 14px;
            }
            
            .version-card {
                padding: 14px;
            }
            
            .download-actions {
                flex-direction: column;
            }
            
            .btn {
                width: 100%;
                min-height: 44px; /* ç¡®ä¿è§¦æ‘¸åŒºåŸŸè¶³å¤Ÿå¤§ */
            }
            
            .custom-input {
                flex-direction: column;
            }
            
            /* ç§»åŠ¨ç«¯åŠ é€Ÿé“¾æ¥æ”¹ä¸ºä¸¤åˆ— */
            .accelerated-grid {
                grid-template-columns: repeat(2, 1fr);
                gap: 8px;
            }
            
            .file-meta {
                flex-direction: column;
                gap: 8px;
            }
            
            .footer {
                padding: 16px 0 20px;
                margin-top: 20px;
            }
            
            /* ç¡®ä¿å†…å®¹ä¸ä¼šæº¢å‡ºå±å¹• */
            .container {
                overflow-x: hidden;
            }
        }

        @media (max-width: 480px) {
            .header {
                padding: 14px 10px;
            }
            
            .header h1 {
                font-size: 18px;
            }
            
            .header p {
                font-size: 12px;
            }
            
            .repo-header {
                padding: 12px;
            }
            
            .repo-icon {
                width: 36px;
                height: 36px;
            }
            
            .version-container {
                padding: 12px;
            }
            
            .file-card {
                padding: 14px;
            }
            
            .file-name {
                font-size: 14px;
            }
            
            /* å°å±å¹•åŠ é€Ÿé“¾æ¥æ”¹ä¸ºå•åˆ— */
            .accelerated-grid {
                grid-template-columns: 1fr;
            }
        }

        /* å¹³æ¿å’Œæ¡Œé¢ - è‡ªé€‚åº”ç½‘æ ¼å¸ƒå±€ */
        @media (min-width: 768px) {
            .repo-container {
                grid-template-columns: repeat(2, 1fr);
            }
            
            .header {
                padding: 24px 20px;
            }
            
            .header h1 {
                font-size: 28px;
            }
            
            .header p {
                font-size: 16px;
            }
            
            /* æ¡Œé¢ç«¯åŠ é€Ÿé“¾æ¥ä¿æŒä¸‰åˆ— */
            .accelerated-grid {
                grid-template-columns: repeat(3, 1fr);
                gap: 8px;
            }
        }

        @media (min-width: 1024px) {
            .repo-container {
                grid-template-columns: repeat(2, 1fr);
            }
        }

        @media (min-width: 1200px) {
            .repo-container {
                grid-template-columns: repeat(2, 1fr);
            }
        }

        @media (min-width: 1400px) {
            .repo-container {
                grid-template-columns: repeat(2, 1fr);
            }
        }

        /* é˜²æ­¢iOSæ©¡çš®ç­‹æ•ˆæœå½±å“ */
        .container {
            position: relative;
            z-index: 1;
        }

        /* ç¡®ä¿æ‰€æœ‰äº¤äº’å…ƒç´ å¯ç‚¹å‡» */
        button, 
        a, 
        input, 
        .btn {
            touch-action: manipulation;
        }

        /* ä¿®å¤iOS Safariçš„ç‚¹å‡»å»¶è¿Ÿ */
        a, 
        button, 
        input, 
        .btn {
            -webkit-tap-highlight-color: rgba(0, 0, 0, 0.1);
        }

        /* é˜²æ­¢æ–‡æœ¬é€‰æ‹© */
        .no-select {
            -webkit-user-select: none;
            -moz-user-select: none;
            -ms-user-select: none;
            user-select: none;
        }
    </style>
</head>
<body>
    <div class="container">
        <header class="header">
            <h1>ğŸ“š é˜…è¯»APPå››ç‰ˆæœ¬ä¸‹è½½</h1>
            <p>åŸç‰ˆ + Sigmaç‰ˆ + MD3ç‰ˆ + è½»æ‚¦æ—¶å…‰ â€¢ æ”¯æŒæ­£å¼ç‰ˆä¸æµ‹è¯•ç‰ˆ â€¢ å¤šä¸ªåŠ é€Ÿä¸‹è½½é€šé“</p>
        </header>
        
        <div class="repo-container">
            <!-- åŸç‰ˆé˜…è¯» -->
            <div class="repo-card original" id="original-repo">
                <div class="repo-header">
                    <div class="repo-icon">ğŸ“–</div>
                    <div class="repo-title">
                        <h2>åŸç‰ˆé˜…è¯»</h2>
                        <p>gedoor/legado â€¢ å®˜æ–¹ç‰ˆæœ¬</p>
                    </div>
                </div>
                
                <div class="version-container">
                    <!-- æ­£å¼ç‰ˆ -->
                    <div class="version-card stable">
                        <div class="version-header">
                            <div class="version-title">
                                <span class="version-icon">ğŸ†</span>
                                <h3>æ­£å¼ç‰ˆæœ¬</h3>
                            </div>
                            <span class="version-tag tag-stable">ç¨³å®š</span>
                        </div>
                        
                        <div id="original-stable-loading" class="loading">
                            <div class="spinner"></div>
                            <div>æ­£åœ¨è·å–æ­£å¼ç‰ˆä¿¡æ¯...</div>
                        </div>
                        
                        <div id="original-stable-error" class="error hidden">
                            <h4>âš ï¸ è·å–å¤±è´¥</h4>
                            <p id="original-stable-error-message"></p>
                            <button class="btn btn-primary mt-2" onclick="loadRelease('original', 'stable')">é‡æ–°åŠ è½½</button>
                        </div>
                        
                        <div id="original-stable-content" class="hidden">
                            <div class="version-info">
                                <div class="info-row">
                                    <span class="info-icon">ğŸ·ï¸</span>
                                    <span>ç‰ˆæœ¬ï¼š<strong id="original-stable-version"></strong></span>
                                </div>
                                <div class="info-row">
                                    <span class="info-icon">ğŸ“…</span>
                                    <span>å‘å¸ƒæ—¶é—´ï¼š<strong id="original-stable-date"></strong></span>
                                </div>
                                <div class="info-row">
                                    <span class="info-icon">ğŸ”–</span>
                                    <span>æ ‡ç­¾ï¼š<code id="original-stable-tag"></code></span>
                                </div>
                            </div>
                            
                            <div id="original-stable-assets">
                                <!-- åŠ¨æ€ç”Ÿæˆä¸‹è½½å¡ç‰‡ -->
                            </div>
                            
                            <div id="original-stable-release-notes" class="release-notes hidden">
                                <h4>ğŸ“ æ›´æ–°è¯´æ˜</h4>
                                <div class="release-notes-content" id="original-stable-notes-content"></div>
                            </div>
                        </div>
                    </div>
                    
                    <!-- æµ‹è¯•ç‰ˆ -->
                    <div class="version-card beta">
                        <div class="version-header">
                            <div class="version-title">
                                <span class="version-icon">ğŸ§ª</span>
                                <h3>æµ‹è¯•ç‰ˆæœ¬</h3>
                            </div>
                            <span class="version-tag tag-beta">æµ‹è¯•</span>
                        </div>
                        
                        <div id="original-beta-loading" class="loading">
                            <div class="spinner"></div>
                            <div>æ­£åœ¨è·å–æµ‹è¯•ç‰ˆä¿¡æ¯...</div>
                        </div>
                        
                        <div id="original-beta-error" class="error hidden">
                            <h4>âš ï¸ è·å–å¤±è´¥</h4>
                            <p id="original-beta-error-message"></p>
                            <button class="btn btn-primary mt-2" onclick="loadRelease('original', 'beta')">é‡æ–°åŠ è½½</button>
                        </div>
                        
                        <div id="original-beta-content" class="hidden">
                            <div class="version-info">
                                <div class="info-row">
                                    <span class="info-icon">ğŸ·ï¸</span>
                                    <span>ç‰ˆæœ¬ï¼š<strong id="original-beta-version"></strong></span>
                                </div>
                                <div class="info-row">
                                    <span class="info-icon">ğŸ“…</span>
                                    <span>å‘å¸ƒæ—¶é—´ï¼š<strong id="original-beta-date"></strong></span>
                                </div>
                                <div class="info-row">
                                    <span class="info-icon">ğŸ”–</span>
                                    <span>æ ‡ç­¾ï¼š<code id="original-beta-tag"></code></span>
                                </div>
                            </div>
                            
                            <div id="original-beta-assets">
                                <!-- åŠ¨æ€ç”Ÿæˆä¸‹è½½å¡ç‰‡ -->
                            </div>
                            
                            <div id="original-beta-release-notes" class="release-notes hidden">
                                <h4>ğŸ“ æ›´æ–°è¯´æ˜</h4>
                                <div class="release-notes-content" id="original-beta-notes-content"></div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            
            <!-- é˜…è¯»Sigma -->
            <div class="repo-card sigma" id="sigma-repo">
                <div class="repo-header">
                    <div class="repo-icon">Î£</div>
                    <div class="repo-title">
                        <h2>é˜…è¯»Sigma</h2>
                        <p>Luoyacheng/legado â€¢ å¢å¼ºç‰ˆæœ¬</p>
                    </div>
                </div>
                
                <div class="version-container">
                    <!-- æ­£å¼ç‰ˆ -->
                    <div class="version-card stable">
                        <div class="version-header">
                            <div class="version-title">
                                <span class="version-icon">ğŸ†</span>
                                <h3>æ­£å¼ç‰ˆæœ¬</h3>
                            </div>
                            <span class="version-tag tag-stable">ç¨³å®š</span>
                        </div>
                        
                        <div id="sigma-stable-loading" class="loading">
                            <div class="spinner"></div>
                            <div>æ­£åœ¨è·å–æ­£å¼ç‰ˆä¿¡æ¯...</div>
                        </div>
                        
                        <div id="sigma-stable-error" class="error hidden">
                            <h4>âš ï¸ è·å–å¤±è´¥</h4>
                            <p id="sigma-stable-error-message"></p>
                            <button class="btn btn-primary mt-2" onclick="loadRelease('sigma', 'stable')">é‡æ–°åŠ è½½</button>
                        </div>
                        
                        <div id="sigma-stable-content" class="hidden">
                            <div class="version-info">
                                <div class="info-row">
                                    <span class="info-icon">ğŸ·ï¸</span>
                                    <span>ç‰ˆæœ¬ï¼š<strong id="sigma-stable-version"></strong></span>
                                </div>
                                <div class="info-row">
                                    <span class="info-icon">ğŸ“…</span>
                                    <span>å‘å¸ƒæ—¶é—´ï¼š<strong id="sigma-stable-date"></strong></span>
                                </div>
                                <div class="info-row">
                                    <span class="info-icon">ğŸ”–</span>
                                    <span>æ ‡ç­¾ï¼š<code id="sigma-stable-tag"></code></span>
                                </div>
                            </div>
                            
                            <div id="sigma-stable-assets">
                                <!-- åŠ¨æ€ç”Ÿæˆä¸‹è½½å¡ç‰‡ -->
                            </div>
                            
                            <div id="sigma-stable-release-notes" class="release-notes hidden">
                                <h4>ğŸ“ æ›´æ–°è¯´æ˜</h4>
                                <div class="release-notes-content" id="sigma-stable-notes-content"></div>
                            </div>
                        </div>
                    </div>
                    
                    <!-- æµ‹è¯•ç‰ˆ -->
                    <div class="version-card beta">
                        <div class="version-header">
                            <div class="version-title">
                                <span class="version-icon">ğŸ§ª</span>
                                <h3>æµ‹è¯•ç‰ˆæœ¬</h3>
                            </div>
                            <span class="version-tag tag-beta">æµ‹è¯•</span>
                        </div>
                        
                        <div id="sigma-beta-loading" class="loading">
                            <div class="spinner"></div>
                            <div>æ­£åœ¨è·å–æµ‹è¯•ç‰ˆä¿¡æ¯...</div>
                        </div>
                        
                        <div id="sigma-beta-error" class="error hidden">
                            <h4>âš ï¸ è·å–å¤±è´¥</h4>
                            <p id="sigma-beta-error-message"></p>
                            <button class="btn btn-primary mt-2" onclick="loadRelease('sigma', 'beta')">é‡æ–°åŠ è½½</button>
                        </div>
                        
                        <div id="sigma-beta-content" class="hidden">
                            <div class="version-info">
                                <div class="info-row">
                                    <span class="info-icon">ğŸ·ï¸</span>
                                    <span>ç‰ˆæœ¬ï¼š<strong id="sigma-beta-version"></strong></span>
                                </div>
                                <div class="info-row">
                                    <span class="info-icon">ğŸ“…</span>
                                    <span>å‘å¸ƒæ—¶é—´ï¼š<strong id="sigma-beta-date"></strong></span>
                                </div>
                                <div class="info-row">
                                    <span class="info-icon">ğŸ”–</span>
                                    <span>æ ‡ç­¾ï¼š<code id="sigma-beta-tag"></code></span>
                                </div>
                            </div>
                            
                            <div id="sigma-beta-assets">
                                <!-- åŠ¨æ€ç”Ÿæˆä¸‹è½½å¡ç‰‡ -->
                            </div>
                            
                            <div id="sigma-beta-release-notes" class="release-notes hidden">
                                <h4>ğŸ“ æ›´æ–°è¯´æ˜</h4>
                                <div class="release-notes-content" id="sigma-beta-notes-content"></div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            
            <!-- Material Design 3é˜…è¯» -->
            <div class="repo-card md3" id="md3-repo">
                <div class="repo-header">
                    <div class="repo-icon">ğŸ¨</div>
                    <div class="repo-title">
                        <h2>MD3é˜…è¯»</h2>
                        <p>HapeLee/legado-with-MD3 â€¢ Material Design 3</p>
                    </div>
                </div>
                
                <div class="version-container">
                    <!-- æ­£å¼ç‰ˆ -->
                    <div class="version-card stable">
                        <div class="version-header">
                            <div class="version-title">
                                <span class="version-icon">ğŸ†</span>
                                <h3>æ­£å¼ç‰ˆæœ¬</h3>
                            </div>
                            <span class="version-tag tag-stable">ç¨³å®š</span>
                        </div>
                        
                        <div id="md3-stable-loading" class="loading">
                            <div class="spinner"></div>
                            <div>æ­£åœ¨è·å–æ­£å¼ç‰ˆä¿¡æ¯...</div>
                        </div>
                        
                        <div id="md3-stable-error" class="error hidden">
                            <h4>âš ï¸ è·å–å¤±è´¥</h4>
                            <p id="md3-stable-error-message"></p>
                            <button class="btn btn-primary mt-2" onclick="loadRelease('md3', 'stable')">é‡æ–°åŠ è½½</button>
                        </div>
                        
                        <div id="md3-stable-content" class="hidden">
                            <div class="version-info">
                                <div class="info-row">
                                    <span class="info-icon">ğŸ·ï¸</span>
                                    <span>ç‰ˆæœ¬ï¼š<strong id="md3-stable-version"></strong></span>
                                </div>
                                <div class="info-row">
                                    <span class="info-icon">ğŸ“…</span>
                                    <span>å‘å¸ƒæ—¶é—´ï¼š<strong id="md3-stable-date"></strong></span>
                                </div>
                                <div class="info-row">
                                    <span class="info-icon">ğŸ”–</span>
                                    <span>æ ‡ç­¾ï¼š<code id="md3-stable-tag"></code></span>
                                </div>
                            </div>
                            
                            <div id="md3-stable-assets">
                                <!-- åŠ¨æ€ç”Ÿæˆä¸‹è½½å¡ç‰‡ -->
                            </div>
                            
                            <div id="md3-stable-release-notes" class="release-notes hidden">
                                <h4>ğŸ“ æ›´æ–°è¯´æ˜</h4>
                                <div class="release-notes-content" id="md3-stable-notes-content"></div>
                            </div>
                        </div>
                    </div>
                    
                    <!-- æµ‹è¯•ç‰ˆ -->
                    <div class="version-card beta">
                        <div class="version-header">
                            <div class="version-title">
                                <span class="version-icon">ğŸ§ª</span>
                                <h3>æµ‹è¯•ç‰ˆæœ¬</h3>
                            </div>
                            <span class="version-tag tag-beta">æµ‹è¯•</span>
                        </div>
                        
                        <div id="md3-beta-loading" class="loading">
                            <div class="spinner"></div>
                            <div>æ­£åœ¨è·å–æµ‹è¯•ç‰ˆä¿¡æ¯...</div>
                        </div>
                        
                        <div id="md3-beta-error" class="error hidden">
                            <h4>âš ï¸ è·å–å¤±è´¥</h4>
                            <p id="md3-beta-error-message"></p>
                            <button class="btn btn-primary mt-2" onclick="loadRelease('md3', 'beta')">é‡æ–°åŠ è½½</button>
                        </div>
                        
                        <div id="md3-beta-content" class="hidden">
                            <div class="version-info">
                                <div class="info-row">
                                    <span class="info-icon">ğŸ·ï¸</span>
                                    <span>ç‰ˆæœ¬ï¼š<strong id="md3-beta-version"></strong></span>
                                </div>
                                <div class="info-row">
                                    <span class="info-icon">ğŸ“…</span>
                                    <span>å‘å¸ƒæ—¶é—´ï¼š<strong id="md3-beta-date"></strong></span>
                                </div>
                                <div class="info-row">
                                    <span class="info-icon">ğŸ”–</span>
                                    <span>æ ‡ç­¾ï¼š<code id="md3-beta-tag"></code></span>
                                </div>
                            </div>
                            
                            <div id="md3-beta-assets">
                                <!-- åŠ¨æ€ç”Ÿæˆä¸‹è½½å¡ç‰‡ -->
                            </div>
                            
                            <div id="md3-beta-release-notes" class="release-notes hidden">
                                <h4>ğŸ“ æ›´æ–°è¯´æ˜</h4>
                                <div class="release-notes-content" id="md3-beta-notes-content"></div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            
            <!-- è½»æ‚¦æ—¶å…‰ -->
            <div class="repo-card qysg" id="qysg-repo">
                <div class="repo-header">
                    <div class="repo-icon">â±ï¸</div>
                    <div class="repo-title">
                        <h2>è½»æ‚¦æ—¶å…‰</h2>
                        <p>autobcb/qysg â€¢ è½»é‡ç‰ˆæœ¬</p>
                    </div>
                </div>
                
                <div class="version-container">
                    <!-- æ­£å¼ç‰ˆ -->
                    <div class="version-card stable">
                        <div class="version-header">
                            <div class="version-title">
                                <span class="version-icon">ğŸ†</span>
                                <h3>æ­£å¼ç‰ˆæœ¬</h3>
                            </div>
                            <span class="version-tag tag-stable">ç¨³å®š</span>
                        </div>
                        
                        <div id="qysg-stable-loading" class="loading">
                            <div class="spinner"></div>
                            <div>æ­£åœ¨è·å–æ­£å¼ç‰ˆä¿¡æ¯...</div>
                        </div>
                        
                        <div id="qysg-stable-error" class="error hidden">
                            <h4>âš ï¸ è·å–å¤±è´¥</h4>
                            <p id="qysg-stable-error-message"></p>
                            <button class="btn btn-primary mt-2" onclick="loadRelease('qysg', 'stable')">é‡æ–°åŠ è½½</button>
                        </div>
                        
                        <div id="qysg-stable-content" class="hidden">
                            <div class="version-info">
                                <div class="info-row">
                                    <span class="info-icon">ğŸ·ï¸</span>
                                    <span>ç‰ˆæœ¬ï¼š<strong id="qysg-stable-version"></strong></span>
                                </div>
                                <div class="info-row">
                                    <span class="info-icon">ğŸ“…</span>
                                    <span>å‘å¸ƒæ—¶é—´ï¼š<strong id="qysg-stable-date"></strong></span>
                                </div>
                                <div class="info-row">
                                    <span class="info-icon">ğŸ”–</span>
                                    <span>æ ‡ç­¾ï¼š<code id="qysg-stable-tag"></code></span>
                                </div>
                            </div>
                            
                            <div id="qysg-stable-assets">
                                <!-- åŠ¨æ€ç”Ÿæˆä¸‹è½½å¡ç‰‡ -->
                            </div>
                            
                            <div id="qysg-stable-release-notes" class="release-notes hidden">
                                <h4>ğŸ“ æ›´æ–°è¯´æ˜</h4>
                                <div class="release-notes-content" id="qysg-stable-notes-content"></div>
                            </div>
                        </div>
                    </div>
                    
                    <!-- æµ‹è¯•ç‰ˆ -->
                    <div class="version-card beta">
                        <div class="version-header">
                            <div class="version-title">
                                <span class="version-icon">ğŸ§ª</span>
                                <h3>æµ‹è¯•ç‰ˆæœ¬</h3>
                            </div>
                            <span class="version-tag tag-beta">æµ‹è¯•</span>
                        </div>
                        
                        <div id="qysg-beta-loading" class="loading">
                            <div class="spinner"></div>
                            <div>æ­£åœ¨è·å–æµ‹è¯•ç‰ˆä¿¡æ¯...</div>
                        </div>
                        
                        <div id="qysg-beta-error" class="error hidden">
                            <h4>âš ï¸ è·å–å¤±è´¥</h4>
                            <p id="qysg-beta-error-message"></p>
                            <button class="btn btn-primary mt-2" onclick="loadRelease('qysg', 'beta')">é‡æ–°åŠ è½½</button>
                        </div>
                        
                        <div id="qysg-beta-content" class="hidden">
                            <div class="version-info">
                                <div class="info-row">
                                    <span class="info-icon">ğŸ·ï¸</span>
                                    <span>ç‰ˆæœ¬ï¼š<strong id="qysg-beta-version"></strong></span>
                                </div>
                                <div class="info-row">
                                    <span class="info-icon">ğŸ“…</span>
                                    <span>å‘å¸ƒæ—¶é—´ï¼š<strong id="qysg-beta-date"></strong></span>
                                </div>
                                <div class="info-row">
                                    <span class="info-icon">ğŸ”–</span>
                                    <span>æ ‡ç­¾ï¼š<code id="qysg-beta-tag"></code></span>
                                </div>
                            </div>
                            
                            <div id="qysg-beta-assets">
                                <!-- åŠ¨æ€ç”Ÿæˆä¸‹è½½å¡ç‰‡ -->
                            </div>
                            
                            <div id="qysg-beta-release-notes" class="release-notes hidden">
                                <h4>ğŸ“ æ›´æ–°è¯´æ˜</h4>
                                <div class="release-notes-content" id="qysg-beta-notes-content"></div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        
        <div class="footer">
            <p>æ•°æ®æ¥æºäºGitHubå®˜æ–¹API â€¢ ä»…æä¾›ä¾¿æ·çš„ç‰ˆæœ¬ç®¡ç†å’Œä¸‹è½½æœåŠ¡</p>
            <div class="footer-links">
                <a href="https://github.com/gedoor/legado" class="footer-link" target="_blank">åŸç‰ˆé˜…è¯»</a>
                <a href="https://github.com/Luoyacheng/legado" class="footer-link" target="_blank">é˜…è¯»Sigma</a>
                <a href="https://github.com/HapeLee/legado-with-MD3" class="footer-link" target="_blank">MD3é˜…è¯»</a>
                <a href="https://github.com/autobcb/qysg" class="footer-link" target="_blank">è½»æ‚¦æ—¶å…‰</a>
                
                <a href="https://t.me/Legado_Channels" class="footer-link" target="_blank">é˜…è¯»å®˜æ–¹Telegram</a>
                <a href="https://t.me/readsigma" class="footer-link" target="_blank">é˜…è¯»SingmaTelegram</a>
            
            <a href="https://qun.qq.com/universal-share/share?ac=1&authKey=slk0MilJhQ0HIEaXwf2Lux6YM5YiBsrzXeR01hkVRYXiNcAVtw1Ja3yykVnzwrmG&busi_data=eyJncm91cENvZGUiOiI1MTk2MjAyMjAiLCJ0b2tlbiI6IkJmRFlnMFgvN0NWVFhNYVREdGpOZW13Zlp1UXNOMmFKcituRmVicG8wd3pXYVhZZldXTWt2Z0ZnQ2QwUWNzOFYiLCJ1aW4iOiIyNDc4ODAwOTcyIn0%3D&data=nuu2aJVGXuq5aDiFSvFJatYoK9oxGIzQoE0Bzp013-jmOazvCxvngky12T0YnFlW1esHHLn0btRX8oyBVNN6Hg&svctype=4&tempid=h5_group_info" class="footer-link" target="_blank">è½»æ‚¦æ—¶å…‰QQç¾¤</a>
            
            </div>
            
            <div class="last-updated" id="last-updated-time">
                æœ€åæ›´æ–°æ—¶é—´ï¼šåŠ è½½ä¸­...
            </div>
        </div>
    </div>

    <script>
        // é…ç½®ä¿¡æ¯ - æ›´æ–°ä»“åº“åˆ—è¡¨
        const CONFIG = {
            repos: {
                original: {
                    name: 'åŸç‰ˆé˜…è¯»',
                    owner: 'gedoor',
                    repo: 'legado',
                    betaTag: 'beta',
                    stableApi: 'latest',
                    betaApi: 'tags/beta'
                },
                sigma: {
                    name: 'é˜…è¯»Sigma',
                    owner: 'Luoyacheng',
                    repo: 'legado',
                    betaTag: 'beta',
                    stableApi: 'latest',
                    betaApi: 'tags/beta'
                },
                md3: {
                    name: 'Material Design 3é˜…è¯»',
                    owner: 'HapeLee',
                    repo: 'legado-with-MD3',
                    betaTag: 'beta',
                    stableApi: 'latest',
                    betaApi: 'tags/beta'
                },
                qysg: {
                    name: 'è½»æ‚¦æ—¶å…‰',
                    owner: 'autobcb',
                    repo: 'qysg',
                    betaTag: 'beta',
                    stableApi: 'latest',
                    betaApi: 'tags/beta'
                }
            },
            // åŠ é€Ÿä»£ç†åˆ—è¡¨
            proxies: [
    { name: 'åŸé“¾æ¥', url: '' },
    { name: 'åŠ é€Ÿ1', url: 'https://gh-proxy.com/' },
    { name: 'åŠ é€Ÿ2', url: 'https://ghproxy.net/' },
    { name: 'åŠ é€Ÿ3', url: 'https://gh.llkk.cc/' },
    { name: 'åŠ é€Ÿ4', url: 'https://ghproxy.cn/' },
    { name: 'åŠ é€Ÿ5', url: 'https://fastgit.cc/' },
    { name: 'åŠ é€Ÿ6', url: 'https://github.akams.cn/' },
    { name: 'åŠ é€Ÿ7', url: 'https://g.blfrp.cn/' },
    { name: 'åŠ é€Ÿ8', url: 'https://ghp.keleyaa.com/' },
    { name: 'åŠ é€Ÿ9', url: 'https://ghpxy.hwinzniej.top/' },
    { name: 'åŠ é€Ÿ10', url: 'https://ghfile.geekertao.top/' },
    { name: 'åŠ é€Ÿ11', url: 'https://ghproxy.cxkpro.top/' },
    { name: 'åŠ é€Ÿ12', url: 'https://gitproxy.mrhjx.cn/' },
    { name: 'åŠ é€Ÿ13', url: 'https://gh.idayer.com/' },
    { name: 'åŠ é€Ÿ14', url: 'https://gh.jasonzeng.dev/' },
    { name: 'åŠ é€Ÿ15', url: 'https://ghproxy.imciel.com/' },
    { name: 'åŠ é€Ÿ16', url: 'https://gh.xxooo.cf/' },
    { name: 'åŠ é€Ÿ17', url: 'https://ghproxy.cc/' },
    { name: 'åŠ é€Ÿ18', url: 'https://github.ednovas.xyz/' },
    { name: 'åŠ é€Ÿ19', url: 'https://cf.ghproxy.cc/' },
    { name: 'åŠ é€Ÿ20', url: 'https://gh.catmak.name/' },
    { name: 'åŠ é€Ÿ21', url: 'https://gh.ddlc.top/' },
    { name: 'åŠ é€Ÿ22', url: 'https://github.tbedu.top/' },
    { name: 'åŠ é€Ÿ23', url: 'https://gp.zkitefly.eu.org/' }
],
            apiConfig: {
                headers: {
                    'Accept': 'application/vnd.github.v3+json'
                },
                cache: 'no-cache'
            }
        };

        // å·¥å…·å‡½æ•°
        const Utils = {
            formatDate(dateString) {
                if (!dateString) return 'æœªçŸ¥';
                const date = new Date(dateString);
                const now = new Date();
                const diffMs = now - date;
                const diffDays = Math.floor(diffMs / (1000 * 60 * 60 * 24));
                
                if (diffDays === 0) {
                    return 'ä»Šå¤©';
                } else if (diffDays === 1) {
                    return 'æ˜¨å¤©';
                } else if (diffDays < 7) {
                    return `${diffDays}å¤©å‰`;
                } else if (diffDays < 30) {
                    return `${Math.floor(diffDays / 7)}å‘¨å‰`;
                }
                
                return date.toLocaleDateString('zh-CN', {
                    year: 'numeric',
                    month: '2-digit',
                    day: '2-digit'
                });
            },
            
            formatFileSize(bytes) {
                if (bytes === 0) return '0 B';
                const k = 1024;
                const sizes = ['B', 'KB', 'MB', 'GB'];
                const i = Math.floor(Math.log(bytes) / Math.log(k));
                return parseFloat((bytes / Math.pow(k, i)).toFixed(2)) + ' ' + sizes[i];
            },
            
            escapeHtml(text) {
                const div = document.createElement('div');
                div.textContent = text;
                return div.innerHTML;
            },
            
            isCoexistVersion(filename) {
                return filename.includes('releaseA') || 
                       filename.includes('coexist') || 
                       filename.includes('å…±å­˜') ||
                       filename.includes('qysg'); // è½»æ‚¦æ—¶å…‰å¯èƒ½ä¹Ÿæœ‰å…±å­˜ç‰ˆ
            },
            
            extractVersion(tagName, releaseName) {
                if (releaseName) {
                    const versionMatch = releaseName.match(/(\d+\.\d+\.\d+)/);
                    if (versionMatch) return versionMatch[1];
                }
                
                if (tagName) {
                    const tagVersion = tagName.replace(/^v/, '');
                    if (tagVersion.match(/\d/)) return tagVersion;
                }
                
                return tagName || 'æœªçŸ¥ç‰ˆæœ¬';
            },
            
            updateLastUpdatedTime() {
                const timeElement = document.getElementById('last-updated-time');
                if (timeElement) {
                    const now = new Date();
                    timeElement.textContent = `æœ€åæ›´æ–°æ—¶é—´ï¼š${now.toLocaleTimeString('zh-CN', {
                        hour12: false,
                        hour: '2-digit',
                        minute: '2-digit'
                    })}`;
                }
            }
        };

        // ä¸‹è½½ç®¡ç†å™¨
        const DownloadManager = {
            createAcceleratedLinks(originalUrl, fileName) {
                return CONFIG.proxies.map(proxy => {
                    let url = originalUrl;
                    let displayName = proxy.name;
                    
                    if (proxy.url) {
                        url = proxy.url + originalUrl;
                    }
                    
                    return {
                        name: displayName,
                        url: url,
                        originalUrl: originalUrl
                    };
                });
            },
            
            createDownloadCard(asset, repoId, releaseType) {
                const cardId = `${repoId}-${releaseType}-${asset.id}`;
                const acceleratedLinks = this.createAcceleratedLinks(asset.browser_download_url, asset.name);
                const isCoexist = Utils.isCoexistVersion(asset.name);
                const versionType = isCoexist ? 'å…±å­˜ç‰ˆ' : 'åŸç‰ˆ';
                
                const card = document.createElement('div');
                card.className = 'file-card';
                card.id = `card-${cardId}`;
                
                card.innerHTML = `
                    <div class="file-name">
                        ${Utils.escapeHtml(asset.name)}
                        ${isCoexist ? '<span class="tag tag-coexist">å…±å­˜</span>' : ''}
                        ${repoId === 'md3' ? '<span class="tag tag-md3">MD3</span>' : ''}
                        ${repoId === 'qysg' ? '<span class="tag tag-qysg">è½»æ‚¦</span>' : ''}
                    </div>
                    
                    <div class="file-meta">
                        <div class="meta-item">
                            <span>ğŸ“¦</span>
                            <span>${Utils.formatFileSize(asset.size)}</span>
                        </div>
                        <div class="meta-item">
                            <span>â¬‡ï¸</span>
                            <span>${asset.download_count.toLocaleString()}æ¬¡ä¸‹è½½</span>
                        </div>
                        <div class="meta-item">
                            <span>ğŸ·ï¸</span>
                            <span>${versionType}</span>
                        </div>
                    </div>
                    
                    <div class="download-actions">
                        <a href="${asset.browser_download_url}" 
                           class="btn btn-primary" 
                           download="${asset.name}"
                           target="_blank"
                           onclick="event.stopPropagation()">
                            <span>â¬‡ï¸</span>
                            ç›´æ¥ä¸‹è½½
                        </a>
                        <button class="btn btn-secondary" 
                                onclick="DownloadManager.toggleAcceleratedLinks('${cardId}', event)">
                            <span>ğŸš€</span>
                            åŠ é€Ÿä¸‹è½½
                        </button>
                    </div>
                    
                    <div id="accelerated-${cardId}" class="accelerated-links">
                        <div class="accelerated-grid">
                            ${acceleratedLinks.map(link => `
                                <a href="${link.url}" 
                                   class="btn btn-secondary" 
                                   download="${asset.name}"
                                   target="_blank"
                                   onclick="event.stopPropagation()"
                                   title="${link.name} - ${link.url}">
                                    ${link.name}
                                </a>
                            `).join('')}
                        </div>
                        
                        <div class="custom-download">
                            <div style="font-size: 13px; margin-bottom: 8px; color: #555;">è‡ªå®šä¹‰åŠ é€Ÿé“¾æ¥ï¼š</div>
                            <div class="custom-input">
                                <input type="text" 
                                       id="custom-url-${cardId}" 
                                       placeholder="è¾“å…¥åŠ é€Ÿé“¾æ¥å‰ç¼€"
                                       value="https://ghproxy.net/">
                                <button class="btn btn-primary" 
                                        onclick="DownloadManager.useCustomLink('${cardId}', '${Utils.escapeHtml(asset.browser_download_url)}', '${Utils.escapeHtml(asset.name)}', event)">
                                    ä½¿ç”¨
                                </button>
                            </div>
                        </div>
                    </div>
                `;
                
                return card;
            },
            
            toggleAcceleratedLinks(cardId, event) {
                if (event) event.stopPropagation();
                const acceleratedDiv = document.getElementById(`accelerated-${cardId}`);
                if (!acceleratedDiv) return;
                
                if (acceleratedDiv.style.display === 'block') {
                    acceleratedDiv.style.display = 'none';
                } else {
                    acceleratedDiv.style.display = 'block';
                    // å…³é—­å…¶ä»–æ‰“å¼€çš„åŠ é€Ÿé“¾æ¥
                    document.querySelectorAll('.accelerated-links').forEach(div => {
                        if (div.id !== `accelerated-${cardId}`) {
                            div.style.display = 'none';
                        }
                    });
                }
            },
            
            useCustomLink(cardId, originalUrl, fileName, event) {
                if (event) event.stopPropagation();
                const input = document.getElementById(`custom-url-${cardId}`);
                if (!input) return;
                
                let customUrl = input.value.trim();
                if (!customUrl) {
                    alert('è¯·è¾“å…¥è‡ªå®šä¹‰åŠ é€Ÿé“¾æ¥å‰ç¼€ï¼');
                    return;
                }
                
                if (!customUrl.endsWith('/')) {
                    customUrl += '/';
                }
                
                const fullUrl = customUrl + originalUrl;
                
                const link = document.createElement('a');
                link.href = fullUrl;
                link.download = fileName;
                link.target = '_blank';
                document.body.appendChild(link);
                link.click();
                document.body.removeChild(link);
                
                alert(`æ­£åœ¨ä½¿ç”¨è‡ªå®šä¹‰é“¾æ¥ä¸‹è½½ï¼š\n${fullUrl}`);
            },
            
            formatReleaseNotes(body) {
                if (!body || !body.trim()) return '';
                
                let formatted = body
                    .replace(/\r\n/g, '\n')
                    .replace(/\n{3,}/g, '\n\n')
                    .replace(/^### (.*$)/gm, '<h4>$1</h4>')
                    .replace(/^## (.*$)/gm, '<h3>$1</h3>')
                    .replace(/^# (.*$)/gm, '<h2>$1</h2>')
                    .replace(/\*\*(.*?)\*\*/g, '<strong>$1</strong>')
                    .replace(/\*(.*?)\*/g, '<em>$1</em>')
                    .replace(/`(.*?)`/g, '<code>$1</code>')
                    .replace(/\[(.*?)\]\((.*?)\)/g, '<a href="$2" target="_blank">$1</a>')
                    .replace(/\n/g, '<br>');
                
                return formatted;
            }
        };

        // APIç®¡ç†å™¨
        const ApiManager = {
            async fetchRelease(repoId, releaseType) {
                const repoConfig = CONFIG.repos[repoId];
                if (!repoConfig) {
                    throw new Error(`æœªçŸ¥ä»“åº“ï¼š${repoId}`);
                }
                
                let apiPath;
                if (releaseType === 'stable') {
                    apiPath = repoConfig.stableApi === 'latest' 
                        ? 'latest' 
                        : `tags/${repoConfig.stableApi}`;
                } else {
                    apiPath = repoConfig.betaApi === 'latest'
                        ? 'latest'
                        : `tags/${repoConfig.betaApi}`;
                }
                
                const apiUrl = `https://api.github.com/repos/${repoConfig.owner}/${repoConfig.repo}/releases/${apiPath}`;
                
                try {
                    const response = await fetch(apiUrl, CONFIG.apiConfig);
                    
                    if (!response.ok) {
                        if (response.status === 404 && releaseType === 'beta') {
                            return await this.fetchLatestPrerelease(repoId);
                        }
                        throw new Error(`HTTP ${response.status}: ${response.statusText}`);
                    }
                    
                    return await response.json();
                } catch (error) {
                    console.error(`è·å–${repoConfig.name} ${releaseType}ç‰ˆå¤±è´¥:`, error);
                    throw error;
                }
            },
            
            async fetchLatestPrerelease(repoId) {
                const repoConfig = CONFIG.repos[repoId];
                const apiUrl = `https://api.github.com/repos/${repoConfig.owner}/${repoConfig.repo}/releases`;
                
                try {
                    const response = await fetch(apiUrl, CONFIG.apiConfig);
                    
                    if (!response.ok) {
                        throw new Error(`HTTP ${response.status}: ${response.statusText}`);
                    }
                    
                    const releases = await response.json();
                    const prerelease = releases.find(r => r.prerelease === true);
                    
                    if (!prerelease) {
                        throw new Error('æ²¡æœ‰æ‰¾åˆ°é¢„å‘å¸ƒç‰ˆæœ¬');
                    }
                    
                    return prerelease;
                } catch (error) {
                    console.error(`è·å–${repoConfig.name}é¢„å‘å¸ƒç‰ˆæœ¬å¤±è´¥:`, error);
                    throw error;
                }
            },
            
            showLoading(repoId, releaseType) {
                const loadingId = `${repoId}-${releaseType}-loading`;
                const contentId = `${repoId}-${releaseType}-content`;
                const errorId = `${repoId}-${releaseType}-error`;
                
                document.getElementById(loadingId).classList.remove('hidden');
                document.getElementById(contentId).classList.add('hidden');
                document.getElementById(errorId).classList.add('hidden');
            },
            
            showError(repoId, releaseType, error) {
                const loadingId = `${repoId}-${releaseType}-loading`;
                const contentId = `${repoId}-${releaseType}-content`;
                const errorId = `${repoId}-${releaseType}-error`;
                const errorMessageId = `${repoId}-${releaseType}-error-message`;
                
                document.getElementById(loadingId).classList.add('hidden');
                document.getElementById(contentId).classList.add('hidden');
                document.getElementById(errorId).classList.remove('hidden');
                document.getElementById(errorMessageId).textContent = error.message || 'æœªçŸ¥é”™è¯¯';
            },
            
            showContent(repoId, releaseType, release) {
                const loadingId = `${repoId}-${releaseType}-loading`;
                const contentId = `${repoId}-${releaseType}-content`;
                const errorId = `${repoId}-${releaseType}-error`;
                
                document.getElementById(loadingId).classList.add('hidden');
                document.getElementById(contentId).classList.remove('hidden');
                document.getElementById(errorId).classList.add('hidden');
                
                const version = Utils.extractVersion(release.tag_name, release.name);
                document.getElementById(`${repoId}-${releaseType}-version`).textContent = version;
                document.getElementById(`${repoId}-${releaseType}-date`).textContent = Utils.formatDate(release.published_at);
                document.getElementById(`${repoId}-${releaseType}-tag`).textContent = release.tag_name;
                
                const assetsContainer = document.getElementById(`${repoId}-${releaseType}-assets`);
                assetsContainer.innerHTML = '';
                
                if (!release.assets || release.assets.length === 0) {
                    assetsContainer.innerHTML = `
                        <div class="empty-state">
                            <div class="empty-icon">ğŸ“­</div>
                            <p>æ­¤ç‰ˆæœ¬æš‚æ— å‘å¸ƒæ–‡ä»¶</p>
                        </div>
                    `;
                } else {
                    // ä¼˜å…ˆæ˜¾ç¤ºAPKæ–‡ä»¶ï¼Œä½†ä¹Ÿæ˜¾ç¤ºå…¶ä»–ç±»å‹çš„æ–‡ä»¶
                    const relevantAssets = release.assets.filter(asset => 
                        asset.name.toLowerCase().endsWith('.apk') || 
                        asset.name.toLowerCase().endsWith('.zip') ||
                        asset.name.toLowerCase().endsWith('.rar') ||
                        asset.name.toLowerCase().includes('release')
                    );
                    
                    if (relevantAssets.length === 0) {
                        assetsContainer.innerHTML = `
                            <div class="empty-state">
                                <div class="empty-icon">ğŸ“±</div>
                                <p>æ­¤ç‰ˆæœ¬æš‚æ— ç›¸å…³æ–‡ä»¶</p>
                            </div>
                        `;
                    } else {
                        relevantAssets.forEach(asset => {
                            const card = DownloadManager.createDownloadCard(asset, repoId, releaseType);
                            assetsContainer.appendChild(card);
                        });
                    }
                }
                
                const notesContainer = document.getElementById(`${repoId}-${releaseType}-release-notes`);
                const notesContent = document.getElementById(`${repoId}-${releaseType}-notes-content`);
                
                if (release.body && release.body.trim()) {
                    notesContent.innerHTML = DownloadManager.formatReleaseNotes(release.body);
                    notesContainer.classList.remove('hidden');
                } else {
                    notesContainer.classList.add('hidden');
                }
            },
            
            async loadRelease(repoId, releaseType) {
                this.showLoading(repoId, releaseType);
                
                try {
                    const release = await this.fetchRelease(repoId, releaseType);
                    this.showContent(repoId, releaseType, release);
                    Utils.updateLastUpdatedTime();
                } catch (error) {
                    this.showError(repoId, releaseType, error);
                }
            },
            
            async initAllReleases() {
                const promises = [];
                
                // ä¸ºæ‰€æœ‰ä»“åº“åŠ è½½æ­£å¼ç‰ˆå’Œæµ‹è¯•ç‰ˆ
                for (const repoId of ['original', 'sigma', 'md3', 'qysg']) {
                    for (const releaseType of ['stable', 'beta']) {
                        promises.push(this.loadRelease(repoId, releaseType));
                    }
                }
                
                await Promise.allSettled(promises);
                
                // ç¡®ä¿é¡µé¢å®Œå…¨åŠ è½½åå†æ·»åŠ äº‹ä»¶ç›‘å¬
                setTimeout(() => {
                    // æ·»åŠ ç‚¹å‡»å¤–éƒ¨å…³é—­åŠ é€Ÿé¢æ¿çš„åŠŸèƒ½
                    document.addEventListener('click', function(event) {
                        if (!event.target.closest('.file-card') && 
                            !event.target.closest('.btn-secondary') && 
                            !event.target.closest('.custom-input')) {
                            document.querySelectorAll('.accelerated-links').forEach(div => {
                                div.style.display = 'none';
                            });
                        }
                    });
                }, 500);
            }
        };

        // å…¨å±€å‡½æ•°
        window.loadRelease = function(repoId, releaseType) {
            ApiManager.loadRelease(repoId, releaseType);
        };

        window.DownloadManager = DownloadManager;

        // é¡µé¢åˆå§‹åŒ– - ä¿®å¤æ»‘åŠ¨é—®é¢˜çš„å…³é”®
        document.addEventListener('DOMContentLoaded', function() {
            // åˆå§‹åŒ–æœ€åæ›´æ–°æ—¶é—´
            Utils.updateLastUpdatedTime();
            
            // ç«‹å³åŠ è½½æ‰€æœ‰ç‰ˆæœ¬
            ApiManager.initAllReleases();
            
            // ä¿®å¤iOS Safariçš„æ»‘åŠ¨é—®é¢˜
            if (/iPhone|iPad|iPod/.test(navigator.userAgent)) {
                document.body.style.overflow = 'auto';
                document.body.style.WebkitOverflowScrolling = 'touch';
            }
            
            // é˜²æ­¢åŒå‡»ç¼©æ”¾å¯¼è‡´çš„å¸ƒå±€é—®é¢˜
            let lastTouchEnd = 0;
            document.addEventListener('touchend', function(event) {
                const now = Date.now();
                if (now - lastTouchEnd <= 300) {
                    event.preventDefault();
                }
                lastTouchEnd = now;
            }, false);
            
            // æ·»åŠ é”®ç›˜å¿«æ·é”®
            document.addEventListener('keydown', function(event) {
                if (event.ctrlKey && event.key === 'r') {
                    event.preventDefault();
                    ApiManager.initAllReleases();
                }
                if (event.key === 'Escape') {
                    document.querySelectorAll('.accelerated-links').forEach(div => {
                        div.style.display = 'none';
                    });
                }
            });
            
            // ç¡®ä¿bodyå¯ä»¥æ»šåŠ¨
            document.body.style.minHeight = window.innerHeight + 'px';
            
            // ç›‘å¬çª—å£å¤§å°å˜åŒ–ï¼Œç¡®ä¿æ»šåŠ¨æ­£å¸¸
            window.addEventListener('resize', function() {
                document.body.style.minHeight = window.innerHeight + 'px';
            });
        });

        // ç¡®ä¿é¡µé¢å®Œå…¨åŠ è½½åå¤„ç†æ»šåŠ¨
        window.addEventListener('load', function() {
            // ç¡®ä¿å†…å®¹é«˜åº¦è¶³å¤Ÿ
            const container = document.querySelector('.container');
            if (container) {
                const containerHeight = container.offsetHeight;
                const windowHeight = window.innerHeight;
                
                if (containerHeight < windowHeight) {
                    // å¦‚æœå†…å®¹é«˜åº¦å°äºçª—å£é«˜åº¦ï¼Œç¡®ä¿bodyå¯ä»¥æ»šåŠ¨
                    document.body.style.minHeight = (windowHeight + 100) + 'px';
                }
            }
            
            // å¼ºåˆ¶é‡ç»˜ï¼Œè§£å†³æŸäº›æµè§ˆå™¨çš„æ»šåŠ¨é—®é¢˜
            document.body.style.display = 'none';
            document.body.offsetHeight; // è§¦å‘é‡ç»˜
            document.body.style.display = '';
        });
    </script>
</body>
</html>